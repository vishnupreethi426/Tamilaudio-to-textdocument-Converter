<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>குரல் கோப்பு பதிவேற்றம் | Audio File Upload</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Hind+Madurai:wght@400;500;600;700&display=swap" rel="stylesheet">
  
<style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Hind Madurai', 'Mukta Malar', 'Nirmala UI', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        /* நாவிக்கேஷன் பட்டை */
        nav {
            background: linear-gradient(90deg, #1a237e 0%, #311b92 100%);
            color: white;
            padding: 15px 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .logo {
            display: flex;
            align-items: center;
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .logo i {
            margin-right: 10px;
            color: #4fc3f7;
        }
        
        .nav-links {
            display: flex;
            list-style: none;
            align-items: center;
        }
        
        .nav-links li {
            margin: 0 15px;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            font-size: 1.1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 8px 12px;
            border-radius: 6px;
        }
        
        .nav-links a:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }
        
        .language-switcher {
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 25px;
            padding: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .language-option {
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 500;
        }
        
        .language-active {
            background: white;
            color: #1a237e;
        }

        /* முதன்மை உள்ளடக்கம் */
        .hero {
            text-align: center;
            padding: 60px 20px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%231a237e" opacity="0.05"/><path d="M0 0L100 100" stroke="%234fc3f7" stroke-width="1" opacity="0.2"/><path d="M100 0L0 100" stroke="%234fc3f7" stroke-width="1" opacity="0.2"/></svg>');
        }
        
        .hero h1 {
            font-size: 2.8rem;
            color: #1a237e;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .hero p {
            font-size: 1.3rem;
            max-width: 800px;
            margin: 0 auto 30px;
            color: #37474f;
            line-height: 1.6;
        }
        
        /* Upload Section */
        .upload-section {
            padding: 60px 5%;
            background: white;
        }
        
        .section-title {
            text-align: center;
            font-size: 2.2rem;
            color: #1a237e;
            margin-bottom: 50px;
            position: relative;
        }
        
        .section-title:after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background: #4fc3f7;
            margin: 15px auto;
            border-radius: 2px;
        }
        
        .upload-container {
            max-width: 800px;
            margin: 0 auto;
            background: #f5f7fa;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }
        
        .upload-area {
            border: 2px dashed #1a237e;
            border-radius: 10px;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .upload-area:hover {
            border-color: #4fc3f7;
            background: rgba(79, 195, 247, 0.05);
        }
        
        .upload-icon {
            font-size: 4rem;
            color: #1a237e;
            margin-bottom: 20px;
        }
        
        .upload-text h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #311b92;
        }
        
        .upload-text p {
            color: #546e7a;
            margin-bottom: 20px;
        }
        
        .browse-btn {
            background: #1a237e;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .browse-btn:hover {
            background: #311b92;
        }
        
        .file-input {
            display: none;
        }
        
        .selected-file {
            margin-top: 20px;
            padding: 15px;
            background: #e3f2fd;
            border-radius: 8px;
            display: none;
        }
        
        .file-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .file-name {
            font-weight: 500;
        }
        
        .file-size {
            color: #546e7a;
        }
        
        .remove-btn {
            background: none;
            border: none;
            color: #f44336;
            cursor: pointer;
            font-size: 1.2rem;
        }
        
        .convert-btn {
            display: block;
            width: 100%;
            background: #1a237e;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 8px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: background 0.3s ease;
            margin-top: 30px;
        }
        
        .convert-btn:hover {
            background: #311b92;
        }
        
        .convert-btn:disabled {
            background: #9e9e9e;
            cursor: not-allowed;
        }
        
        .progress-area {
            margin-top: 30px;
            display: none;
        }
        
        .progress-bar {
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .progress {
            height: 100%;
            background: #4fc3f7;
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .progress-text {
            text-align: center;
            color: #546e7a;
        }
        
        .result-area {
            margin-top: 30px;
            display: none;
        }
        
        .result-text {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            min-height: 150px;
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
        }
        
        .action-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .download-btn {
            background: #4caf50;
            color: white;
        }
        
        .download-btn:hover {
            background: #388e3c;
        }
        
        .copy-btn {
            background: #ff9800;
            color: white;
        }
        
        .copy-btn:hover {
            background: #f57c00;
        }
        
        .new-conversion-btn {
            background: #1a237e;
            color: white;
        }
        
        .new-conversion-btn:hover {
            background: #311b92;
        }
        
    

        /* Supported Formats */
.supported-formats {
    padding: 60px 5%;
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
}

.formats-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* Force 4 columns */
    gap: 30px;
    max-width: 1200px;
    margin: 0 auto;
    justify-items: center;
}

.format-card {
    background: white;
    border-radius: 12px;
    padding: 30px;
    text-align: center;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
    width: 100%;
    max-width: 250px; /* Slightly reduced max-width to fit 4 in a row */
}

.format-icon {
    font-size: 2.5rem;
    color: #1a237e;
    margin-bottom: 20px;
}

.format-card h3 {
    font-size: 1.3rem;
    margin-bottom: 15px;
    color: #311b92;
}

.format-card p {
    color: #546e7a;
    line-height: 1.6;
    font-size: 0.9rem; /* Slightly smaller font for better fit */
}

/* Responsive design for formats section */
@media (max-width: 1200px) {
    .formats-grid {
        grid-template-columns: repeat(2, 1fr); /* 2 columns on medium screens */
        max-width: 800px;
    }
}

@media (max-width: 768px) {
    .formats-grid {
        grid-template-columns: 1fr; /* 1 column on small screens */
        max-width: 400px;
    }
    
    .format-card {
        max-width: 300px;
    }
}

        /* Features Section */
        .features {
            padding: 60px 5%;
            background: white;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .feature-card {
            background: #f5f7fa;
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15);
        }
        
        .feature-icon {
            font-size: 3rem;
            color: #1a237e;
            margin-bottom: 20px;
        }
        
        .feature-card h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #311b92;
        }
        
        .feature-card p {
            color: #546e7a;
            line-height: 1.6;
        }
        
        /* How to Use */
        .how-to-use {
            padding: 60px 5%;
            background: white;
        }
        
        .steps {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .step {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-radius: 12px;
            padding: 25px;
            width: 250px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }
        
        .step-number {
            background: #1a237e;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        .step h3 {
            color: #311b92;
            margin-bottom: 10px;
        }


/* About Section */
        .about {
            padding: 60px 5%;
            background:linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
        }

        .about-content {
            max-width: 1000px;
            margin: 0 auto;
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
            align-items: center;
        }

        .about-text {
            flex: 1;
            min-width: 300px;
        }

        .about-image {
            flex: 1;
            min-width: 300px;
            text-align: center;
        }

        .about-image img {
            max-width: 100%;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

/* Services Section */
        .services {
            padding: 60px 5%;
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .service-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15);
        }

        .service-icon {
            font-size: 3rem;
            color: #1a237e;
            margin-bottom: 20px;
        }

    /* Contact Section */
        .contact {
            padding: 60px 5%;
            background: white;
        }

        .contact-container {
            max-width: 1000px;
            margin: 0 auto;
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
        }

        .contact-info {
            flex: 1;
            min-width: 300px;
        }

        .contact-form {
            flex: 1;
            min-width: 300px;
        }

        .info-item {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .info-icon {
            width: 50px;
            height: 50px;
            background: #1a237e;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            margin-right: 15px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }

        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }

        .submit-btn {
            background: #1a237e;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .submit-btn:hover {
            background: #311b92;
        }
        
        /* Voice Recording Section */
        .voice-recording {
            margin-top: 40px;
            padding: 30px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }
        
        .recording-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .record-btn {
            background: #f44336;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .record-btn:hover {
            background: #d32f2f;
        }
        
        .record-btn.recording {
            background: #4caf50;
            animation: pulse 1.5s infinite;
        }
        
        .stop-btn {
            background: #ff9800;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .stop-btn:hover {
            background: #f57c00;
        }
        
        .stop-btn:disabled {
            background: #9e9e9e;
            cursor: not-allowed;
        }
        
        .recording-status {
            text-align: center;
            margin-top: 15px;
            font-weight: 500;
        }
        
        .recording-timer {
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
            color: #1a237e;
            margin-top: 10px;
        }
        
        .audio-preview {
            margin-top: 20px;
            text-align: center;
        }
        
        .audio-preview audio {
            width: 100%;
            max-width: 400px;
        }
        
        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
            }
        }
        

        /* அடிக்குறிப்பு */
        footer {
            background: linear-gradient(90deg, #1a237e 0%, #311b92 100%);
            color: white;
            text-align: center;
            padding: 30px 20px;
        }
        
        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .footer-content p {
            margin: 15px 0;
            font-size: 1.1rem;
        }
        
        .social-icons {
            margin: 20px 0;
        }
        
        .social-icons a {
            color: white;
            font-size: 1.5rem;
            margin: 0 15px;
            transition: all 0.3s ease;
        }
        
        .social-icons a:hover {
            color: #4fc3f7;
            transform: translateY(-5px);
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .hero p {
                font-size: 1.1rem;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .upload-container {
                padding: 20px;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .recording-controls {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <!-- நாவிக்கேஷன் பட்டை -->
    <nav>
        <div class="logo">
            <i class="fas fa-microphone-alt"></i>
            <span id="nav-title">தமிழ் குரல்-உரை மாற்றி</span>
        </div>
       <ul class="nav-links">
            <li><a href="#"><i class="fas fa-home"></i> <span data-translate="nav-home">முகப்பு</span></a></li>
            <li><a href="#upload-section"><i class="fas fa-file-upload"></i> <span data-translate="nav-upload">கோப்பு பதிவேற்றம்</span></a></li>
            <li><a href="#about"><i class="fas fa-info-circle"></i> <span data-translate="nav-about">பற்றி</span></a></li>
            <li><a href="#services"><i class="fas fa-cogs"></i> <span data-translate="nav-services">சேவைகள்</span></a></li>
            <li><a href="#contact"><i class="fas fa-phone-alt"></i> <span data-translate="nav-contact">தொடர்பு</span></a></li>
        </ul>
        <div class="language-switcher" id="language-switcher">
            <div class="language-option language-active" data-lang="ta">தமிழ்</div>
            <div class="language-option" data-lang="en">English</div>
        </div>
    </nav>


 <!-- முதன்மை உள்ளடக்கம் -->
    <section class="hero">
        <h1 id="hero-title">குரல் கோப்பை பதிவேற்றி உரையாக மாற்றுங்கள்</h1>
        <p id="hero-description">முன்பே பதிவு செய்த தமிழ் குரல் கோப்புகளை பதிவேற்றி, எங்கள் தொழில்நுட்பத்தின் மூலம் வேர்ட் ஆவணமாக மாற்றுங்கள்</p>
    </section>

    <!-- Upload Section -->
    <section class="upload-section" id="upload-section">
        <h2 class="section-title" id="upload-title">கோப்பு பதிவேற்றம்</h2>
        <div class="upload-container">
            <div class="upload-area" id="uploadArea">
                <div class="upload-icon">
                    <i class="fas fa-cloud-upload-alt"></i>
                </div>
                <div class="upload-text">
                    <h3 id="upload-heading">கோப்பை இங்கே விட்டு விடுங்கள் அல்லது பதிவேற்றுக</h3>
                    <p id="upload-subheading">MP3, WAV, FLAC, அல்லது OGG வடிவமைப்புகள்</p>
                    <button class="browse-btn" id="browseBtn">கோப்பைத் தேர்ந்தெடு</button>
                    <input type="file" id="fileInput" class="file-input" accept="audio/*">
                </div>
            </div>
            
            <div class="selected-file" id="selectedFile">
                <div class="file-info">
                    <div>
                        <span class="file-name" id="fileName">கோப்பு பெயர்</span>
                        <span class="file-size" id="fileSize">(0 MB)</span>
                    </div>
                    <button class="remove-btn" id="removeFile"><i class="fas fa-times"></i></button>
                </div>
            </div>
            
            <button class="convert-btn" id="convertBtn" disabled>குரலை உரையாக மாற்று</button>
            
            <div class="progress-area" id="progressArea">
                <div class="progress-bar">
                    <div class="progress" id="progressBar"></div>
                </div>
                <p class="progress-text" id="progressText">மாற்றப்படுகிறது: 0%</p>
            </div>
            
            <div class="result-area" id="resultArea">
                <h3 id="result-title">மாற்றப்பட்ட உரை:</h3>
                <div class="result-text" id="resultText"></div>
                <div class="action-buttons">
                    <button class="action-btn download-btn" id="downloadBtn"><i class="fas fa-download"></i> பதிவிறக்கம்</button>
                    <button class="action-btn copy-btn" id="copyBtn"><i class="fas fa-copy"></i> நகலெடு</button>
                    <button class="action-btn new-conversion-btn" id="newConversionBtn"><i class="fas fa-redo"></i> புதிய மாற்றம்</button>
                </div>
            </div>
            
            <!-- Voice Recording Section -->
            <div class="voice-recording">
                <h3 id="recording-title">நேரடி குரல் பதிவு</h3>
                <p id="recording-description">மைக்ரோஃபோனைப் பயன்படுத்தி நேரடியாக உங்கள் குரலைப் பதிவு செய்து உரையாக மாற்றுங்கள்</p>
                
                <div class="recording-controls">
                    <button class="record-btn" id="recordBtn">
                        <i class="fas fa-microphone"></i> <span id="record-text">பதிவு தொடங்கு</span>
                    </button>
                    <button class="stop-btn" id="stopBtn" disabled>
                        <i class="fas fa-stop"></i> <span id="stop-text">பதிவு நிறுத்து</span>
                    </button>
                </div>
                
                <div class="recording-status" id="recordingStatus">
                    <span id="status-text">பதிவு தயாராக உள்ளது</span>
                </div>
                
                <div class="recording-timer" id="recordingTimer">
                    00:00
                </div>
                
                <div class="audio-preview" id="audioPreview" style="display: none;">
                    <audio id="recordedAudio" controls></audio>
                    <div style="margin-top: 10px;">
                        <button class="browse-btn" id="useRecordingBtn">இந்த பதிவைப் பயன்படுத்து</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

   

    
  <!-- About Section -->
    <section id="about" class="about">
        <h2 class="section-title" id="about-title">எங்களைப் பற்றி</h2>
        <div class="about-content">
            <div class="about-text">
                <p id="about-text-1">தமிழ் குரல்-உரை மாற்றி நமது தமிழ் மொழியின் மேன்மையைப் பாதுகாக்கும் வகையில் உருவாக்கப்பட்ட ஒரு தனித்துவமான தொழில்நுட்ப தீர்வாகும். கிராமப்புறங்கள் மற்றும் தொழில்நுட்ப வசதி குறைந்த பகுதிகளில் வாழும் தமிழ் மக்களின் தேவைகளை முழுமையாகப் பூர்த்தி செய்யும் வகையில் இந்த சேவை வடிவமைக்கப்பட்டுள்ளது.</p>
                <p id="about-text-2">கிராமப்புற தமிழர்களின் தேவைகளைப் புரிந்துகொண்டு, அவர்களின் அன்றாட வாழ்க்கையை எளிதாக்கும் வகையில் எங்கள் சேவைகளை வடிவமைத்துள்ளோம்.</p>
            </div>
            <div class="about-image">
                <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='400' height='300' viewBox='0 0 400 300'><rect width='400' height='300' fill='%23f5f7fa'/><circle cx='200' cy='150' r='80' fill='%231a237e' opacity='0.2'/><path d='M180 130 L220 150 L180 170 Z' fill='%231a237e'/></svg>" alt="About Us">
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <h2 class="section-title" id="features-title">எங்கள் சிறப்பம்சங்கள்</h2>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-language"></i>
                </div>
                <h3 id="feature-1-title">முழுமையான தமிழ் ஆதரவு</h3>
                <p id="feature-1-desc">எந்தவொரு தமிழ் உச்சரிப்பையும் எங்கள் கருவி எளிதாக புரிந்து உரையாக மாற்றும்</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-file-word"></i>
                </div>
                <h3 id="feature-2-title">வேர்ட் ஆவணமாக எடுக்க</h3>
                <p id="feature-2-desc">மாற்றப்பட்ட உரையை MS Word ஆவணமாக பதிவிறக்கம் செய்து கொள்ளலாம்</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-cloud-upload-alt"></i>
                </div>
                <h3 id="feature-3-title">கோப்பு பதிவேற்றம்</h3>
                <p id="feature-3-desc">முன்பே பதிவு செய்த குரல் கோப்புகளை பதிவேற்றி உரையாக மாற்றுங்கள்</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-mobile-alt"></i>
                </div>
                <h3 id="feature-4-title">அனைத்து சாதனங்களிலும்</h3>
                <p id="feature-4-desc">உங்கள் மொபைல், டேப்லெட் அல்லது கணினியில் எங்கள் சேவையை அனுபவிக்கலாம்</p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-bullseye"></i>
                </div>
                <h3 id="feature-5-title">உயர் துல்லியம்</h3>
                <p id="feature-5-desc">மேம்பட்ட AI தொழில்நுட்பத்துடன்  துல்லியமான உரை மாற்றம்</p>
            </div>
            
            <!-- New Feature 2: Batch Processing -->
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-layer-group"></i>
                </div>
                <h3 id="feature-6-title">குழுக்கூட்டு செயலாக்கம்</h3>
                <p id="feature-6-desc">ஒரே நேரத்தில் பல குரல் கோப்புகளை மாற்றும் திறன், நேரத்தை மிச்சப்படுத்தும்</p>
            </div>

        </div>
    </section>


     <section class="supported-formats">
        <h2 class="section-title" id="formats-title">ஆதரவு வடிவமைப்புகள்</h2>
        <div class="formats-grid">
            <div class="format-card">
                <div class="format-icon">
                    <i class="fab fa-bandcamp"></i>
                </div>
                <h3>MP3</h3>
                <p id="format-1-desc">MPEG-1 Audio Layer III, மிகவும் பிரபலமான ஆடியோ வடிவம்</p>
            </div>
            
            <div class="format-card">
                <div class="format-icon">
                    <i class="fas fa-volume-up"></i>
                </div>
                <h3>WAV</h3>
                <p id="format-2-desc">தரமான, uncompressed ஆடியோ வடிவம்</p>
            </div>
            
            <div class="format-card">
                <div class="format-icon">
                    <i class="fab fa-vimeo"></i>
                </div>
                <h3>OGG</h3>
                <p id="format-4-desc">திறந்த மூல ஆடியோ வடிவம்</p>
            </div>
            
            <div class="format-card">
                <div class="format-icon">
                    <i class="fas fa-music"></i>
                </div>
                <h3>FLAC</h3>
                <p id="format-3-desc">இலவச இழப்பில்லா ஆடியோ குறியீடு</p>
            </div>
        </div>
    </section>


     <!-- How to Use -->
    <section class="how-to-use">
        <h2 class="section-title" id="how-to-title">பயன்படுத்துவது எப்படி</h2>
        <div class="steps">
            <div class="step">
                <div class="step-number">1</div>
                <h3 id="step-1-title">பதிவு தொடங்கு</h3>
                <p id="step-1-desc">மைக்ரோஃபோன் பொத்தானை அழுத்தி உங்கள் குரலை பதிவு செய்யத் தொடங்குங்கள்</p>
            </div>
            
            <div class="step">
                <div class="step-number">2</div>
                <h3 id="step-2-title">குரலை உரையாக மாற்று</h3>
                <p id="step-2-desc">எங்கள் AI தொழில்நுட்பம் உங்கள் குரலை தமிழ் உரையாக மாற்றும்</p>
            </div>
            
            <div class="step">
                <div class="step-number">3</div>
                <h3 id="step-3-title">திருத்தம் செய்</h3>
                <p id="step-3-desc">தேவைப்பட்டால் உரையில் சிறிய திருத்தங்களை செய்து கொள்ளலாம்</p>
            </div>
            
            <div class="step">
                <div class="step-number">4</div>
                <h3 id="step-4-title">பதிவிறக்கம் செய்</h3>
                <p id="step-4-desc">இறுதியாக உரையை வேர்ட் ஆவணமாக பதிவிறக்கம் செய்து கொள்ளுங்கள்</p>
            </div>
        </div>
    </section>


        <!-- Services Section -->
    <section id="services" class="services">
        <h2 class="section-title" id="services-title">எங்கள் சேவைகள்</h2>
        <div class="services-grid">
            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-microphone"></i>
                </div>
                <h3 id="service-1-title">நேரடி குரல் மாற்றம்</h3>
                <p id="service-1-desc">நேரடியாக உங்கள் குரலை பதிவு செய்து உரையாக மாற்றும் சேவை</p>
            </div>
            
            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-file-audio"></i>
                </div>
                <h3 id="service-2-title">கோப்பு மாற்றம்</h3>
                <p id="service-2-desc">முன்பே பதிவு செய்த குரல் கோப்புகளை உரையாக மாற்றும் சேவை</p>
            </div>
            
            <div class="service-card">
                <div class="service-icon">
                    <i class="fas fa-file-word"></i>
                </div>
                <h3 id="service-3-title">வேர்ட் ஆவணமாக்கம்</h3>
                <p id="service-3-desc">மாற்றப்பட்ட உரையை வேர்ட் ஆவணமாக வடிவமைத்தல்</p>
            </div>
            
        </div>
    </section>

     <!-- Contact Section -->
    <section id="contact" class="contact">
        <h2 class="section-title" id="contact-title">எங்களை தொடர்பு கொள்ள</h2>
        <div class="contact-container">
            <div class="contact-info">
                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <div>
                        <h3 id="address-title">முகவரி</h3>
                        <p id="address">123 தமிழ் நகர், சென்னை, தமிழ்நாடு 600001</p>
                    </div>
                </div>
                
                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-phone"></i>
                    </div>
                    <div>
                        <h3 id="phone-title">தொலைபேசி</h3>
                        <p id="phone">+91 98765 43210</p>
                    </div>
                </div>
                
                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <div>
                        <h3 id="email-title">மின்னஞ்சல்</h3>
                        <p id="email">info@tamilvoice2text.com</p>
                    </div>
                </div>
            </div>
            
            <div class="contact-form">
                <form id="contactForm">
                    <div class="form-group">
                        <label for="name" id="name-label">பெயர்</label>
                        <input type="text" id="name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email" id="email-label">மின்னஞ்சல்</label>
                        <input type="email" id="email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="message" id="message-label">செய்தி</label>
                        <textarea id="message" required></textarea>
                    </div>
                    
                    <button type="submit" class="submit-btn" id="submit-btn">அனுப்பு</button>
                </form>
            </div>
        </div>
    </section>

    <!-- அடிக்குறிப்பு -->
    <footer>
        <div class="footer-content">
            <p id="footer-text">தமிழ் குரல்-உரை மாற்றி - கிராமப்புற தமிழர்களின் துணைபுரியும் தொழில்நுட்பம்</p>
            <div class="social-icons">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
            </div>
            <p id="footer-tagline">தமிழ் குரல் உரை மாற்றி@2025 </p>
        </div>
    </footer>

    <script>
        // Language data
        const languageData = {
            ta: {
                // Navigation
                "nav-title": "தமிழ் குரல்-உரை மாற்றி",
                "nav-home": "முகப்பு",
                "nav-upload": "கோப்பு பதிவேற்றம்",
                "nav-about": "பற்றி",
                "nav-services": "சேவைகள்",
                "nav-contact": "தொடர்பு",
                
                // Hero section
                "hero-title": "குரல் கோப்பை பதிவேற்றி உரையாக மாற்றுங்கள்",
                "hero-description": "முன்பே பதிவு செய்த தமிழ் குரல் கோப்புகளை பதிவேற்றி, எங்கள்  தொழில்நுட்பத்தின் மூலம் வேர்ட் ஆவணமாக மாற்றுங்கள்",
                
                // Upload section
                "upload-title": "கோப்பு பதிவேற்றம்",
                "upload-heading": "கோப்பை இங்கே விட்டு விடுங்கள் அல்லது பதிவேற்றுக",
                "upload-subheading": "MP3, WAV, FLAC, அல்லது OGG வடிவமைப்புகள்",
                "browseBtn": "கோப்பைத் தேர்ந்தெடு",
                "convertBtn": "குரலை உரையாக மாற்று",
                "progressText": "மாற்றப்படுகிறது: ",
                "result-title": "மாற்றப்பட்ட உரை:",
                "downloadBtn": "பதிவிறக்கம்",
                "copyBtn": "நகலெடு",
                "newConversionBtn": "புதிய மாற்றம்",
                
                // Recording section
                "recording-title": "நேரடி குரல் பதிவு",
                "recording-description": "மைக்ரோஃபோனைப் பயன்படுத்தி நேரடியாக உங்கள் குரலைப் பதிவு செய்து உரையாக மாற்றுங்கள்",
                "record-text": "பதிவு தொடங்கு",
                "stop-text": "பதிவு நிறுத்து",
                "status-ready": "பதிவு தயாராக உள்ளது",
                "status-recording": "பதிவு நடக்கிறது...",
                "status-stopped": "பதிவு நிறுத்தப்பட்டது",
                "use-recording": "இந்த பதிவைப் பயன்படுத்து",
                
                // Formats section
                "formats-title": "ஆதரவு வடிவமைப்புகள்",
                "format-1-desc": "MPEG-1 Audio Layer III, மிகவும் பிரபலமான ஆடியோ வடிவம்",
                "format-2-desc": "தரமான, uncompressed ஆடியோ வடிவம்",
                "format-3-desc": "இலவச இழப்பில்லா ஆடியோ குறியீடு",
                "format-4-desc": "திறந்த மூல ஆடியோ வடிவம்",

                // Features section
                'features-title': 'எங்கள் சிறப்பம்சங்கள்',
                'feature-1-title': 'முழுமையான தமிழ் ஆதரவு',
                'feature-1-desc': 'எந்தவொரு தமிழ் உச்சரிப்பையும் எங்கள் கருவி எளிதாக புரிந்து உரையாக மாற்றும்',
                'feature-2-title': 'வேர்ட் ஆவணமாக எடுக்க',
                'feature-2-desc': 'மாற்றப்பட்ட உரையை MS Word ஆவணமாக பதிவிறக்கம் செய்து கொள்ளலாம்',
                'feature-3-title': 'கோப்பு பதிவேற்றம்',
                'feature-3-desc': 'முன்பே பதிவு செய்த குரல் கோப்புகளை பதிவேற்றி உரையாக மாற்றுங்கள்',
                'feature-4-title': 'அனைத்து சாதனங்களிலும்',
                'feature-4-desc': 'உங்கள் மொபைல், டேப்லெட் அல்லது கணினியில் எங்கள் சேவையை அனுபவிக்கலாம்',
                'feature-5-title': 'உயர் துல்லியம்',
                'feature-5-desc': 'மேம்பட்ட AI தொழில்நுட்பத்துடன்  துல்லியமான உரை மாற்றம்',
                'feature-6-title': 'குழுக்கூட்டு செயலாக்கம்',
                'feature-6-desc': 'ஒரே நேரத்தில் பல குரல் கோப்புகளை மாற்றும் திறன், நேரத்தை மிச்சப்படுத்தும்',
                // How to use section
                'how-to-title': 'பயன்படுத்துவது எப்படி',
                'step-1-title': 'பதிவு தொடங்கு',
                'step-1-desc': 'மைக்ரோஃபோன் பொத்தானை அழுத்தி உங்கள் குரலை பதிவு செய்யத் தொடங்குங்கள்',
                'step-2-title': 'குரலை உரையாக மாற்று',
                'step-2-desc': 'எங்கள் AI தொழில்நுட்பம் உங்கள் குரலை தமிழ் உரையாக மாற்றும்',
                'step-3-title': 'திருத்தம் செய்',
                'step-3-desc': 'தேவைப்பட்டால் உரையில் சிறிய திருத்தங்களை செய்து கொள்ளலாம்',
                'step-4-title': 'பதிவிறக்கம் செய்',
                'step-4-desc': 'இறுதியாக உரையை வேர்ட் ஆவணமாக பதிவிறக்கம் செய்து கொள்ளுங்கள்',
                
                // About section
                'about-title': 'எங்களைப் பற்றி',
                'about-text-1': 'தமிழ் குரல்-உரை மாற்றி நமது தமிழ் மொழியின் மேன்மையைப் பாதுகாக்கும் வகையில் உருவாக்கப்பட்ட ஒரு தனித்துவமான தொழில்நுட்ப தீர்வாகும். கிராமப்புறங்கள் மற்றும் தொழில்நுட்ப வசதி குறைந்த பகுதிகளில் வாழும் தமிழ் மக்களின் தேவைகளை முழுமையாகப் பூர்த்தி செய்யும் வகையில் இந்த சேவை வடிவமைக்கப்பட்டுள்ளது.',
                'about-text-2': 'கிராமப்புற தமிழர்களின் தேவைகளைப் புரிந்துகொண்டு, அவர்களின் அன்றாட வாழ்க்கையை எளிதாக்கும் வகையில் எங்கள் சேவைகளை வடிவமைத்துள்ளோம்.',
                
                // Services section
                'services-title': 'எங்கள் சேவைகள்',
                'service-1-title': 'நேரடி குரல் மாற்றம்',
                'service-1-desc': 'நேரடியாக உங்கள் குரலை பதிவு செய்து உரையாக மாற்றும் சேவை',
                'service-2-title': 'கோப்பு மாற்றம்',
                'service-2-desc': 'முன்பே பதிவு செய்த குரல் கோப்புகளை உரையாக மாற்றும் சேவை',
                'service-3-title': 'வேர்ட் ஆவணமாக்கம்',
                'service-3-desc': 'மாற்றப்பட்ட உரையை வேர்ட் ஆவணமாக வடிவமைத்தல்',
                'service-4-title': 'பயிற்சி மற்றும் ஆதரவு',
                'service-4-desc': 'புதிய பயனர்களுக்கான பயிற்சி மற்றும் தொழில்நுட்ப ஆதரவு',
                
                // Contact section
                'contact-title': 'எங்களை தொடர்பு கொள்ள',
                'address-title': 'முகவரி',
                'address': '123 தமிழ் நகர், சென்னை, தமிழ்நாடு 600001',
                'phone-title': 'தொலைபேசி',
                'phone': '+91 98765 43210',
                'email-title': 'மின்னஞ்சல்',
                'email': 'info@tamilvoice2text.com',
                'name-label': 'பெயர்',
                'email-label': 'மின்னஞ்சல்',
                'message-label': 'செய்தி',
                'submit-btn': 'அனுப்பு',
                
                
                // Footer
                "footer-text": "தமிழ் குரல்-உரை மாற்றி - கிராமப்புற தமிழர்களின் துணைபுரியும் தொழில்நுட்பம்",
                "footer-tagline": "தமிழ் குரல் உரை மாற்றி@2025" 
            },
            en: {
                // Navigation
                "nav-title": "Tamil Voice-to-Text Converter",
                "nav-home": "Home",
                "nav-upload": "File Upload",
                "nav-about": "About",
                "nav-services": "Services",
                "nav-contact": "Contact",
                
                // Hero section
                "hero-title": "Upload Audio File and Convert to Text",
                "hero-description": "Upload pre-recorded Tamil audio files and convert them to Word documents using our technology",
                
                // Upload section
                "upload-title": "File Upload",
                "upload-heading": "Drop your file here or click to upload",
                "upload-subheading": "MP3, WAV, FLAC, or OGG formats",
                "browseBtn": "Choose File",
                "convertBtn": "Convert Voice to Text",
                "progressText": "Converting: ",
                "result-title": "Converted Text:",
                "downloadBtn": "Download",
                "copyBtn": "Copy",
                "newConversionBtn": "New Conversion",
                
                // Recording section
                "recording-title": "Live Voice Recording",
                "recording-description": "Use your microphone to record your voice directly and convert to text",
                "record-text": "Start Recording",
                "stop-text": "Stop Recording",
                "status-ready": "Ready to record",
                "status-recording": "Recording in progress...",
                "status-stopped": "Recording stopped",
                "use-recording": "Use this recording",
                
                // Formats section
                "formats-title": "Supported Formats",
                "format-1-desc": "MPEG-1 Audio Layer III, the most popular audio format",
                "format-2-desc": "High quality, uncompressed audio format",
                "format-3-desc": "Free lossless audio codec",
                "format-4-desc": "Open source audio format",

                  // Features section
                'features-title': 'Our Features',
                'feature-1-title': 'Full Tamil Support',
                'feature-1-desc': 'Our tool easily understands any Tamil pronunciation and converts it to text',
                'feature-2-title': 'Export as Word Document',
                'feature-2-desc': 'Download the converted text as a MS Word document',
                'feature-3-title': 'File Upload',
                'feature-3-desc': 'Upload pre-recorded voice files and convert them to text',
                'feature-4-title': 'On All Devices',
                'feature-4-desc': 'Enjoy our service on your mobile, tablet or computer',
                'feature-5-title': 'High Accuracy',
                'feature-5-desc': 'Accurate text conversion with advanced AI technology',
                'feature-6-title': 'Batch Processing',
                'feature-6-desc': 'Ability to convert multiple voice files at once, saving time',
                
                // How to use section
                'how-to-title': 'How to Use',
                'step-1-title': 'Start Recording',
                'step-1-desc': 'Press the microphone button and start recording your voice',
                'step-2-title': 'Convert Speech to Text',
                'step-2-desc': 'Our AI technology will convert your speech to Tamil text',
                'step-3-title': 'Make Edits',
                'step-3-desc': 'Make minor corrections to the text if needed',
                'step-4-title': 'Download',
                'step-4-desc': 'Finally download the text as a Word document',
                
                // About section
                'about-title': 'About Us',
                'about-text-1': 'Tamil Voice-to-Text Converter is a unique technological solution designed to preserve the excellence of our Tamil language. This service is designed to fully meet the needs of Tamil people living in rural areas and areas with limited technological facilities.',
                'about-text-2': 'We have designed our services to understand the needs of rural Tamils and make their daily lives easier.',
                
                // Services section
                'services-title': 'Our Services',
                'service-1-title': 'Live Voice Conversion',
                'service-1-desc': 'Service to record your voice directly and convert it to text',
                'service-2-title': 'File Conversion',
                'service-2-desc': 'Service to convert pre-recorded voice files to text',
                'service-3-title': 'Word Document Creation',
                'service-3-desc': 'Formatting converted text into Word documents',
                'service-4-title': 'Training and Support',
                'service-4-desc': 'Training and technical support for new users',
                
                // Contact section
                'contact-title': 'Contact Us',
                'address-title': 'Address',
                'address': '123 Tamil Nagar, Tamil Nadu 600001',
                'phone-title': 'Phone',
                'phone': '+91 98765 43210',
                'email-title': 'Email',
                'email': 'info@tamilvoice2text.com',
                'name-label': 'Name',
                'email-label': 'Email',
                'message-label': 'Message',
                'submit-btn': 'Submit',
                
                // Footer
                "footer-text": "Tamil Voice-to-Text Converter - Technology Supporting Rural Tamil People",
                "footer-tagline": " Tamil Voice-to-Text Converter@2025"
            }
        };

        // Set initial language
        let currentLanguage = 'ta';

        // Function to change language
        function changeLanguage(lang) {
            currentLanguage = lang;
            
            // Update all text elements with IDs
            const elements = document.querySelectorAll('[id]');
            elements.forEach(element => {
                const id = element.id;
                if (languageData[lang][id]) {
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.placeholder = languageData[lang][id];
                    } else {
                        element.textContent = languageData[lang][id];
                    }
                }
            });
            
            // Update all elements with data-translate attribute
            const translateElements = document.querySelectorAll('[data-translate]');
            translateElements.forEach(element => {
                const key = element.getAttribute('data-translate');
                if (languageData[lang][key]) {
                    element.textContent = languageData[lang][key];
                }
            });
            
            // Update language switcher
            document.querySelectorAll('.language-option').forEach(option => {
                if (option.dataset.lang === lang) {
                    option.classList.add('language-active');
                } else {
                    option.classList.remove('language-active');
                }
            });
            
            // Update page title
            document.title = languageData[lang]["nav-title"];
        }

        // Voice recording functionality
        let mediaRecorder;
        let audioChunks = [];
        let recordingTimer;
        let recordingSeconds = 0;
        let isRecording = false;

        // File upload functionality
        document.addEventListener('DOMContentLoaded', function() {
            const uploadArea = document.getElementById('uploadArea');
            const fileInput = document.getElementById('fileInput');
            const browseBtn = document.getElementById('browseBtn');
            const selectedFile = document.getElementById('selectedFile');
            const fileName = document.getElementById('fileName');
            const fileSize = document.getElementById('fileSize');
            const removeFile = document.getElementById('removeFile');
            const convertBtn = document.getElementById('convertBtn');
            const progressArea = document.getElementById('progressArea');
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            const resultArea = document.getElementById('resultArea');
            const resultText = document.getElementById('resultText');
            const downloadBtn = document.getElementById('downloadBtn');
            const copyBtn = document.getElementById('copyBtn');
            const newConversionBtn = document.getElementById('newConversionBtn');
            
            // Voice recording elements
            const recordBtn = document.getElementById('recordBtn');
            const stopBtn = document.getElementById('stopBtn');
            const recordingStatus = document.getElementById('recordingStatus');
            const recordingTimer = document.getElementById('recordingTimer');
            const audioPreview = document.getElementById('audioPreview');
            const recordedAudio = document.getElementById('recordedAudio');
            const useRecordingBtn = document.getElementById('useRecordingBtn');
            
            let selectedFileName = '';
            
            // Browse button click
            browseBtn.addEventListener('click', function() {
                fileInput.click();
            });
            
            // File input change
            fileInput.addEventListener('change', function(e) {
                if (this.files && this.files[0]) {
                    handleFile(this.files[0]);
                }
            });
            
            // Drag and drop
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                uploadArea.addEventListener(eventName, preventDefaults, false);
            });
            
            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }
            
            ['dragenter', 'dragover'].forEach(eventName => {
                uploadArea.addEventListener(eventName, highlight, false);
            });
            
            ['dragleave', 'drop'].forEach(eventName => {
                uploadArea.addEventListener(eventName, unhighlight, false);
            });
            
            function highlight() {
                uploadArea.classList.add('highlight');
            }
            
            function unhighlight() {
                uploadArea.classList.remove('highlight');
            }
            
            uploadArea.addEventListener('drop', function(e) {
                const dt = e.dataTransfer;
                const file = dt.files[0];
                handleFile(file);
            });
            
            // Handle selected file
            function handleFile(file) {
                if (!file.type.includes('audio')) {
                    alert(currentLanguage === 'ta' ? 
                        'தவறான கோப்பு வகை. தயவு செய்து ஒரு ஆடியோ கோப்பைத் தேர்ந்தெடுக்கவும்.' : 
                        'Invalid file type. Please select an audio file.');
                    return;
                }
                
                selectedFileName = file.name;
                const fileSizeValue = (file.size / (1024 * 1024)).toFixed(2);
                
                fileName.textContent = file.name;
                fileSize.textContent = `(${fileSizeValue} MB)`;
                selectedFile.style.display = 'block';
                convertBtn.disabled = false;
            }
            
            // Remove file
            removeFile.addEventListener('click', function() {
                resetFile();
            });
            
            function resetFile() {
                fileInput.value = '';
                selectedFile.style.display = 'none';
                convertBtn.disabled = true;
                selectedFileName = '';
            }
            
            // Voice recording functionality
            recordBtn.addEventListener('click', startRecording);
            stopBtn.addEventListener('click', stopRecording);
            useRecordingBtn.addEventListener('click', useRecording);
            
            async function startRecording() {
                try {
                    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                    mediaRecorder = new MediaRecorder(stream);
                    audioChunks = [];
                    
                    mediaRecorder.ondataavailable = (event) => {
                        audioChunks.push(event.data);
                    };
                    
                    mediaRecorder.onstop = () => {
                        const audioBlob = new Blob(audioChunks, { type: 'audio/wav' });
                        const audioUrl = URL.createObjectURL(audioBlob);
                        recordedAudio.src = audioUrl;
                        audioPreview.style.display = 'block';
                    };
                    
                    mediaRecorder.start();
                    isRecording = true;
                    
                    // Update UI
                    recordBtn.classList.add('recording');
                    recordBtn.disabled = true;
                    stopBtn.disabled = false;
                    recordingStatus.textContent = currentLanguage === 'ta' ? 'பதிவு நடக்கிறது...' : 'Recording in progress...';
                    
                    // Start timer
                    recordingSeconds = 0;
                    updateTimer();
                    recordingTimerInterval = setInterval(updateTimer, 1000);
                    
                } catch (error) {
                    console.error('Error accessing microphone:', error);
                    alert(currentLanguage === 'ta' ? 
                        'மைக்ரோஃபோனை அணுக முடியவில்லை. தயவு செய்து மைக்ரோஃபோன் அனுமதியை சரிபார்க்கவும்.' : 
                        'Could not access microphone. Please check microphone permissions.');
                }
            }
            
            function stopRecording() {
                if (mediaRecorder && isRecording) {
                    mediaRecorder.stop();
                    isRecording = false;
                    
                    // Update UI
                    recordBtn.classList.remove('recording');
                    recordBtn.disabled = false;
                    stopBtn.disabled = true;
                    recordingStatus.textContent = currentLanguage === 'ta' ? 'பதிவு நிறுத்தப்பட்டது' : 'Recording stopped';
                    
                    // Stop timer
                    clearInterval(recordingTimerInterval);
                    
                    // Stop all tracks
                    mediaRecorder.stream.getTracks().forEach(track => track.stop());
                }
            }
            
            function updateTimer() {
                recordingSeconds++;
                const minutes = Math.floor(recordingSeconds / 60);
                const seconds = recordingSeconds % 60;
                recordingTimer.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }
            
            function useRecording() {
                // Create a file from the recorded audio
                const audioBlob = new Blob(audioChunks, { type: 'audio/wav' });
                const audioFile = new File([audioBlob], `recording-${new Date().getTime()}.wav`, { type: 'audio/wav' });
                
                // Handle the recorded file
                handleFile(audioFile);
                
                // Hide the audio preview
                audioPreview.style.display = 'none';
            }

           convertBtn.addEventListener('click', function() {
    if (!fileInput.files[0]) return;
    const formData = new FormData();
    formData.append('audio', fileInput.files[0]);

    progressArea.style.display = 'block';
    convertBtn.disabled = true;
    progressBar.style.width = '50%';
    progressText.textContent = (currentLanguage === 'ta' ? 'மாற்றப்படுகிறது: ' : 'Converting: ') + 'Uploading...';

    fetch('/upload', {
        method: 'POST',
        body: formData
    })
    .then(response => response.text())
    .then(data => {
        progressBar.style.width = '100%';
        progressText.textContent = (currentLanguage === 'ta' ? 'மாற்றப்பட்டது!' : 'Converted!');
        resultArea.style.display = 'block';
        resultText.textContent = data;
    })
    .catch(error => {
        progressArea.style.display = 'none';
        alert('Conversion failed. Please try again.');
    });
});
            
            // Show conversion result
            function showResult() {
                progressArea.style.display = 'none';
             resultArea.style.display = 'block';
                
                //Simulated result - in a real app, this would come from the speech-to-text API
                const sampleText = currentLanguage === 'ta' ? 
                    "ஹால் உனக்காள வே நான் தவித்தேன் இன்று நீ வர கேட்டுதின் ஆரோ ஹால் வளம் வீழ வே நான் துருகித்தேன் உனை தாயும் காரும்பார் ஹால் வளம் வீழ வே நான் துருகித்தேன் உனை தாயும் காரும்பார்" : 
                    "This is a sample text conversion. Your audio file has been successfully converted to text. You can download this text or copy it to clipboard.";
                
                resultText.textContent = sampleText;
            }
            
            // Download button
            downloadBtn.addEventListener('click', function() {
                const text = resultText.textContent;
                const blob = new Blob([text], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                
                a.href = url;
                a.download = selectedFileName.replace(/\.[^/.]+$/, "") + '.txt';
                document.body.appendChild(a);
                a.click();
                
                setTimeout(() => {
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, 100);
            });
            
            // Copy button
            copyBtn.addEventListener('click', function() {
                const text = resultText.textContent;
                navigator.clipboard.writeText(text).then(() => {
                    alert(currentLanguage === 'ta' ? 
                        'உரை நகலெடுக்கப்பட்டது!' : 
                        'Text copied to clipboard!');
                });
            });
            
            // New conversion button
            newConversionBtn.addEventListener('click', function() {
                resetFile();
                resultArea.style.display = 'none';
                progressBar.style.width = '0%';
            });
        });

        // Initialize language switcher
        document.getElementById('language-switcher').addEventListener('click', (e) => {
            if (e.target.classList.contains('language-option')) {
                const lang = e.target.dataset.lang;
                changeLanguage(lang);
            }
        });
    </script>
</body>
</html>